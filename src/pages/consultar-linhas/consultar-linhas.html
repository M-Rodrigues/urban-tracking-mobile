<ion-header>
  <ion-navbar>
      <button ion-button icon-only menuToggle>
        <ion-icon name="menu"></ion-icon>
      </button>
    <ion-title>Consultar Linhas</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-searchbar (ionInput)="buscarLinha($event)"></ion-searchbar>
  <ion-list>
    <ion-item>
      <h2>Linhas</h2>
      <button ion-button clear item-end icon-only (click)="setFilter()">
        <ion-icon name="funnel"></ion-icon>
      </button>
    </ion-item>

    <ion-item *ngFor="let linha of linhas" (click)="onLinhaInfo(linha)">
      <ion-icon [name]="selectModalIcon(linha.idModal)" item-start></ion-icon>
      <ion-grid no-padding>
        <ion-row>
          <ion-col col-10>
            <h2>{{linha.nome | truncate }}</h2>
            <p>{{nomeModal(linha.idModal)}}</p>
          </ion-col>
          <ion-col col-2 text-center>
            <p>Rotas</p>
            <ion-badge>{{linha.rotas.length}}</ion-badge>
          </ion-col>
        </ion-row>
      </ion-grid>      
    </ion-item>    
  </ion-list>
</ion-content>
